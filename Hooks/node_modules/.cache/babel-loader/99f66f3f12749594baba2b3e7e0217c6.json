{"ast":null,"code":"// https://medium.com/javascript-in-plain-english/react-hooks-how-to-use-useeffect-ecea3e90d84f\nimport { useContext } from 'react';\nimport { StarWarsContext } from '../context/starWarsContext';\nconst apiUrl = 'https://swapi-trybe.herokuapp.com/api/planets/';\n\nconst FetchData = () => {\n  const {\n    setIsFetching,\n    setError,\n    setData\n  } = useContext(StarWarsContext);\n  setIsFetching(true);\n  return fetch(apiUrl).then(response => response.json()).then(json => {\n    console.log(json.results);\n    setIsFetching(false);\n    return setData(json.results);\n  }, error => {\n    console.log(`erro: ${error.message}`);\n    setError(error.message);\n    setIsFetching(false);\n  });\n};\n\nexport default FetchData;","map":{"version":3,"sources":["/home/cd/trybe-projects/sd-05-project-starwars-datatable-hooks/src/services/API.js"],"names":["useContext","StarWarsContext","apiUrl","FetchData","setIsFetching","setError","setData","fetch","then","response","json","console","log","results","error","message"],"mappings":"AAAA;AACA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,eAAT,QAAgC,4BAAhC;AAEA,MAAMC,MAAM,GAAG,gDAAf;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAM;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA,QAAjB;AAA2BC,IAAAA;AAA3B,MAAuCN,UAAU,CAACC,eAAD,CAAvD;AAEAG,EAAAA,aAAa,CAAC,IAAD,CAAb;AAEA,SAAOG,KAAK,CAACL,MAAD,CAAL,CACFM,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADjB,EAEFF,IAFE,CAEIE,IAAD,IAAU;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAjB;AACAT,IAAAA,aAAa,CAAC,KAAD,CAAb;AACA,WAAOE,OAAO,CAACI,IAAI,CAACG,OAAN,CAAd;AACD,GANE,EAOAC,KAAD,IAAW;AACTH,IAAAA,OAAO,CAACC,GAAR,CAAa,SAAQE,KAAK,CAACC,OAAQ,EAAnC;AACAV,IAAAA,QAAQ,CAACS,KAAK,CAACC,OAAP,CAAR;AACAX,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAXA,CAAP;AAaD,CAlBD;;AAoBA,eAAeD,SAAf","sourcesContent":["// https://medium.com/javascript-in-plain-english/react-hooks-how-to-use-useeffect-ecea3e90d84f\nimport { useContext } from 'react';\nimport { StarWarsContext } from '../context/starWarsContext';\n\nconst apiUrl = 'https://swapi-trybe.herokuapp.com/api/planets/';\n\nconst FetchData = () => {\n  const { setIsFetching, setError, setData } = useContext(StarWarsContext);\n  \n  setIsFetching(true);\n\n  return fetch(apiUrl)\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(json.results);\n        setIsFetching(false);\n        return setData(json.results)\n      },\n        (error) => {\n          console.log(`erro: ${error.message}`);\n          setError(error.message);\n          setIsFetching(false);\n        },\n      );\n}\n\nexport default FetchData;\n"]},"metadata":{},"sourceType":"module"}