{"ast":null,"code":"// https://medium.com/javascript-in-plain-english/react-hooks-how-to-use-useeffect-ecea3e90d84f\nimport React, { useEffect, useContext } from 'react';\nimport { StarWarsContext } from '../context/starWarsContext';\nconst apiUrl = 'https://swapi-trybe.herokuapp.com/api/planets/';\nexport default function FetchData() {\n  const {\n    setIsfetching,\n    setError,\n    setData\n  } = useContext(StarWarsContext);\n  setIsFetching(true);\n  return fetch(apiUrl).then(response => response.json()).then(json => {\n    console.log(json.results);\n    setIsFetching(false);\n    return setData(json.results);\n  }, error => {\n    console.log(`erro: ${error.message}`);\n    setError(error.message);\n    setIsFetching(false);\n  });\n}","map":{"version":3,"sources":["/home/cd/trybe-projects/sd-05-project-starwars-datatable-hooks/src/services/API.js"],"names":["React","useEffect","useContext","StarWarsContext","apiUrl","FetchData","setIsfetching","setError","setData","setIsFetching","fetch","then","response","json","console","log","results","error","message"],"mappings":"AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,eAAT,QAAgC,4BAAhC;AAEA,MAAMC,MAAM,GAAG,gDAAf;AAEA,eAAe,SAASC,SAAT,GAAqB;AAClC,QAAM;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA,QAAjB;AAA2BC,IAAAA;AAA3B,MAAuCN,UAAU,CAACC,eAAD,CAAvD;AAEAM,EAAAA,aAAa,CAAC,IAAD,CAAb;AAEA,SAAOC,KAAK,CAACN,MAAD,CAAL,CACFO,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADjB,EAEFF,IAFE,CAEIE,IAAD,IAAU;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAjB;AACAP,IAAAA,aAAa,CAAC,KAAD,CAAb;AACA,WAAOD,OAAO,CAACK,IAAI,CAACG,OAAN,CAAd;AACD,GANE,EAOAC,KAAD,IAAW;AACTH,IAAAA,OAAO,CAACC,GAAR,CAAa,SAAQE,KAAK,CAACC,OAAQ,EAAnC;AACAX,IAAAA,QAAQ,CAACU,KAAK,CAACC,OAAP,CAAR;AACAT,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAXA,CAAP;AAaD","sourcesContent":["// https://medium.com/javascript-in-plain-english/react-hooks-how-to-use-useeffect-ecea3e90d84f\nimport React, { useEffect, useContext } from 'react';\nimport { StarWarsContext } from '../context/starWarsContext';\n\nconst apiUrl = 'https://swapi-trybe.herokuapp.com/api/planets/';\n\nexport default function FetchData() {\n  const { setIsfetching, setError, setData } = useContext(StarWarsContext);\n  \n  setIsFetching(true);\n\n  return fetch(apiUrl)\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(json.results);\n        setIsFetching(false);\n        return setData(json.results)\n      },\n        (error) => {\n          console.log(`erro: ${error.message}`);\n          setError(error.message);\n          setIsFetching(false);\n        },\n      );\n}\n"]},"metadata":{},"sourceType":"module"}